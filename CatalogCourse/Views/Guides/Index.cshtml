@model IEnumerable<CatalogCourse.Models.Guide>

@{
    ViewData["Title"] = "Каталог руководств";
    var languages = ViewBag.Languages as List<string>;
    var selectedLanguage = ViewBag.SelectedLanguage as string;
}

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - CatalogCourse</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <script src="~/js/site.js" asp-append-version="true"></script>
   
</head>

<body>
    <div class="grid-lines"></div>
    <div class="bg-elements">
        <div class="element element-1"></div>
        <div class="element element-2"></div>
        <div class="element element-3"></div>
    </div>

    <div class="container mt-4">
        <div class="navigation-buttons">
            <a href="/Home" class="nav-btn">
                <i class="fas fa-arrow-left"></i> Вернуться на главную
            </a>
            <a href="/Guides/Create" class="nav-btn">
                <i class="fas fa-plus"></i> Добавить курс
            </a>
        </div>

        <div class="page-header">
            <h1 class="page-title">Каталог руководств</h1>
        </div>

        <!-- Table Section -->
        <table class="futuristic-table">
            <thead>
                <tr>
                    <th>Название</th>
                    <th>Язык</th>
                    <th>Описание</th>
                    <th>Ссылка</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Title</td>
                        <td>@item.Language</td>
                        <td>@item.Description</td>
                        <td><a href="@item.Link" target="_blank">Открыть</a></td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@item.Id" class="btn-futuristic btn-warning-futuristic btn-sm-futuristic">
                                <i class="fas fa-edit"></i> Редактировать
                            </a>
                            <form asp-action="Delete" method="post" style="display:inline;">
                                <input type="hidden" name="id" value="@item.Id" />
                                <button type="submit" class="btn-futuristic btn-danger-futuristic btn-sm-futuristic">
                                    <i class="fas fa-trash"></i> Удалить
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        <!-- Filter Section -->
        <div class="filter-section">
            <form method="get" asp-controller="Guides" asp-action="Index" class="filter-form">
                <label for="language" class="form-label">Выберите язык:</label>
                <select name="language" id="language" class="form-select-futuristic">
                    <option value="">Все</option>
                    @foreach (var lang in languages)
                    {
                        <option value="@lang" selected="@(lang == selectedLanguage)">
                            @lang
                        </option>
                    }
                </select>
                <button type="submit" class="btn-futuristic btn-primary-futuristic">
                    <i class="fas fa-filter"></i> Фильтровать
                </button>
            </form>
        </div>

        <!-- Cards Section -->
        <div class="cards-grid">
            @foreach (var item in Model)
            {
                <div class="course-card">
                    <div class="card-body">
                        <h5 class="card-title-futuristic">@item.Title</h5>
                        <h6 class="card-subtitle-futuristic">Язык: @item.Language</h6>
                        <p class="card-text-futuristic">@item.Description</p>
                    </div>
                    <div class="card-footer-futuristic">
                        <a href="@item.Link" target="_blank" class="btn-futuristic btn-primary-futuristic btn-sm-futuristic">
                            <i class="fas fa-external-link-alt"></i> Открыть
                        </a>
                    </div>
                </div>
            }
        </div>
    </div>

  
</body>
</html>